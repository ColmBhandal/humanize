(function(){var n,e,t,r,u,i,l,o;i=new function(){},o=i.toString,u=function(n){return n!==n},r=function(n){return(("undefined"!=typeof window&&null!==window?window.isFinite:void 0)||global.isFinite)(n)&&!u(parseFloat(n))},t=function(n){return"[object Array]"===o.call(n)},l=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],n={},n.intword=function(e,t,r){return null==r&&(r=2),n.compactInteger(e,r)},n.compactInteger=function(n,e){var t,r,u,i,l,o,a,c,f,s,p,d,h,m,b,g,v,w,z;if(null==e&&(e=0),e=Math.max(e,0),f=parseInt(n,10),m=0>f?"-":"",b=Math.abs(f),v=""+b,s=v.length,p=[13,10,7,4],r=["T","B","M","k"],1e3>b)return""+m+v;if(s>p[0]+3)return f.toExponential(e).replace("e+","x10^");for(o=0,a=p.length;a>o;o++)if(t=p[o],s>=t){c=t;break}return u=s-c+1,g=v.split(""),z=g.slice(0,u),l=g.slice(u,u+e+1),w=z.join(""),i=l.join(""),i.length<e&&(i+=""+Array(e-i.length+1).join("0")),0===e?d=""+m+w+r[p.indexOf(c)]:(h=(+(w+"."+i)).toFixed(e),d=""+m+h+r[p.indexOf(c)]),d},n.intcomma=n.intComma=function(e,t){return null==t&&(t=0),n.formatNumber(e,t)},e={P:Math.pow(2,50),T:Math.pow(2,40),G:Math.pow(2,30),M:Math.pow(2,20)},n.filesize=n.fileSize=function(t){var r,u;for(r in e)if(u=e[r],t>=u)return n.formatNumber(t/u,2,"")+" "+r+"B";return t>=1024?n.formatNumber(t/1024,0)+" KB":n.formatNumber(t,0)+n.pluralize(t," byte")},n.formatNumber=function(e,t,r,u){var i,l,o,a,c,f,s;return null==t&&(t=0),null==r&&(r=","),null==u&&(u="."),a=function(n,e,t){return t?n.substr(0,t)+e:""},l=function(n,e,t){return n.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+e)},o=function(e,t,r){return r?t+n.toFixed(Math.abs(e),r).split(".")[1]:""},s=n.normalizePrecision(t),f=0>e&&"-"||"",i=parseInt(n.toFixed(Math.abs(e||0),s),10)+"",c=i.length>3?i.length%3:0,f+a(i,r,c)+l(i,r,c)+o(e,u,s)},n.toFixed=function(e,t){var r;return null==t&&(t=n.normalizePrecision(t,0)),r=Math.pow(10,t),(Math.round(e*r)/r).toFixed(t)},n.normalizePrecision=function(n,e){return n=Math.round(Math.abs(n)),u(n)?e:n},n.ordinal=function(n){var e,t,r,u;if(r=parseInt(n,10),0===r)return n;if(u=r%100,11===u||12===u||13===u)return r+"th";switch(t=r%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break;default:e="th"}return""+r+e},n.times=function(n,e){var t,u,i;return null==e&&(e={}),r(n)&&n>=0?(t=parseFloat(n),i=["never","once","twice"],null!=e[t]?""+e[t]:""+((null!=(u=i[t])?u.toString():void 0)||t.toString()+" times")):void 0},n.pluralize=function(n,e,t){return null!=n&&null!=e?(null==t&&(t=e+"s"),1===parseInt(n,10)?e:t):void 0},n.truncate=function(n,e,t){return null==e&&(e=100),null==t&&(t="..."),n.length>e?n.substring(0,e-t.length)+t:n},n.truncatewords=n.truncateWords=function(n,e){var t,r,u;for(t=n.split(" "),u="",r=0;e>r;)null!=t[r]&&(u+=t[r]+" "),r++;return t.length>e?u+="...":void 0},n.truncatenumber=n.boundedNumber=function(n,e,t){var u;return null==e&&(e=100),null==t&&(t="+"),u=null,r(n)&&r(e)&&n>e&&(u=e+t),(u||n).toString()},n.oxford=function(e,t,r){var u,i,l;return l=e.length,2>l?""+e:2===l?e.join(" and "):(null!=t&&l>t?(u=l-t,i=t,null==r&&(r=", and "+u+" "+n.pluralize(u,"other"))):(i=-1,r=", and "+e[l-1]),e.slice(0,i).join(", ")+r)},n.dictionary=function(n,e,t){var r,u,i,l;if(null==e&&(e=" is "),null==t&&(t=", "),i="",null!=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)){r=[];for(u in n)l=n[u],r.push(""+u+e+l);i=r.join(t)}return i},n.frequency=function(e,r){var u,i,l;if(t(e))return u=e.length,l=n.times(u),i=0===u?l+" "+r:r+" "+l},n.pace=function(e,t,r){var u,i,o,a,c,f,s,p;if(null==r&&(r="time"),0===e||0===t)return"No "+n.pluralize(r);for(a="Approximately",p=null,c=e/t,i=0,o=l.length;o>i;i++)if(u=l[i],f=c*u.value,f>1){p=u.name;break}return p||(a="Less than",f=1,p=l[l.length-1].name),s=Math.round(f),r=n.pluralize(s,r),a+" "+s+" "+r+" per "+p},n.nl2br=function(n,e){return null==e&&(e="<br/>"),n.replace(/\n/g,e)},n.br2nl=function(n,e){return null==e&&(e="\r\n"),n.replace(/\<br\s*\/?\>/g,e)},n.capitalize=function(n,e){return null==e&&(e=!1),""+n.charAt(0).toUpperCase()+(e?n.slice(1).toLowerCase():n.slice(1))},n.capitalizeAll=function(n){return n.replace(/(?:^|\s)\S/g,function(n){return n.toUpperCase()})},n.titlecase=n.titleCase=function(e){var t,r,u,i,l;return u=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,r=/\S+[A-Z]+\S*/,l=/\s+/,i=/-/,(t=function(e){return function(e,o,a){var c,f,s,p,d,h;for(null==o&&(o=!1),null==a&&(a=!0),d=[],p=e.split(o?i:l),c=f=0,s=p.length;s>f;c=++f)h=p[c],-1===h.indexOf("-")?!a||0!==c&&c!==p.length-1?r.test(h)?d.push(h):u.test(h)?d.push(h.toLowerCase()):d.push(n.capitalize(h)):d.push(r.test(h)?h:n.capitalize(h)):d.push(t(h,!0,0===c||c===p.length-1));return d.join(o?"-":" ")}}(this))(e)},"undefined"!=typeof this&&null!==this&&(this.Humanize=n),"undefined"!=typeof module&&null!==module&&(module.exports=n)}).call(this);